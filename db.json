{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "definitions": {
      "BaseModel": {
        "type": "object",
        "properties": {
          "createdAt": { "type": "string" },
          "updatedAt": { "type": "string" }
        },
        "required": ["createdAt", "updatedAt"]
      },
      "Address": {
        "type": "object",
        "properties": {
          "street": { "type": "string" },
          "city": { "type": "string" },
          "state": { "type": "string" },
          "zip": { "type": "string" },
          "country": { "type": "string" }
        },
        "required": ["street", "city", "state", "zip"]
      },
      "SignatureObject": {
        "type": "object",
        "properties": {
          "svg": { "type": "string" },
          "type": { "type": "string" }
        },
        "required": ["svg"]
      },
      "Schedule": {
        "type": "object",
        "properties": {
          "days": {
            "type": "object",
            "additionalProperties": {
              "type": "object",
              "properties": {
                "type": { "type": "string", "enum": ["lunch", "dinner"] },
                "remarks": { "type": "string" }
              },
              "required": ["type", "remarks"]
            }
          }
        },
        "required": ["days"]
      },
      "JobItem": {
        "type": "object",
        "properties": {
          "employer": { "type": "string" },
          "position": { "type": "string" },
          "address": { "$ref": "#/definitions/Address" },
          "remarks": { "type": "string" },
          "startDate": { "type": "string" },
          "endDate": { "type": "string" }
        },
        "required": ["employer", "position", "address", "remarks", "startDate", "endDate"]
      },
      "LegalItems": {
        "type": "object",
        "properties": {
          "field1": { "type": "boolean" },
          "explanation1": { "type": "string" },
          "field2": { "type": "boolean" },
          "explanation2": { "type": "string" },
          "field3": { "type": "boolean" },
          "explanation3": { "type": "string" }
        }
      },
      "W4Form": {
        "allOf": [
          { "$ref": "#/definitions/BaseUser" },
          {
            "type": "object",
            "properties": {
              "marital": { "type": "string", "enum": ["single", "married"] },
              "step3a": { "type": "number" },
              "step3b": { "type": "number" },
              "step3c": { "type": "number" },
              "step4a": { "type": "number" },
              "step4b": { "type": "number" },
              "step4c": { "type": "number" },
              "signature": { "$ref": "#/definitions/SignatureObject" },
              "entity": { "$ref": "#/definitions/Entity" }
            },
            "required": ["marital", "step3a", "step3b", "step3c", "step4a", "step4b", "step4c", "signature", "entity"]
          }
        ]
      },
      "Entity": {
        "type": "object",
        "properties": {
          "storeName": { "type": "string" },
          "address": { "$ref": "#/definitions/Address" },
          "employees": {
            "type": "array",
            "items": { "$ref": "#/definitions/Employee" }
          }
        },
        "required": ["storeName", "address", "employees"]
      },
      "Employee": {
        "allOf": [
          { "$ref": "#/definitions/BaseUser" },
          {
            "type": "object",
            "properties": {
              "position": { "type": "string" },
              "social": { "type": "number" },
              "gender": { "type": "string" },
              "maritalStatus": { "type": "string", "enum": ["single", "married"] }
            },
            "required": ["position", "social", "gender", "maritalStatus"]
          }
        ]
      },
      "Handbook": {
        "type": "object",
        "properties": {
          "title": { "type": "string" },
          "sections": {
            "type": "array",
            "items": { "$ref": "#/definitions/HandbookSection" }
          }
        },
        "required": ["title", "sections"]
      },
      "HandbookSection": {
        "type": "object",
        "properties": {
          "title": { "type": "string" },
          "content": { "type": "string" },
          "subsections": {
            "type": "array",
            "items": { "$ref": "#/definitions/HandbookSection" }
          }
        },
        "required": ["title", "content"]
      },
      "BaseUser": {
        "allOf": [
          { "$ref": "#/definitions/BaseModel" },
          {
            "type": "object",
            "properties": {
              "name": { "type": "string" },
              "address": { "$ref": "#/definitions/Address" },
              "email": { "type": "string" },
              "phone": { "type": "string" }
            },
            "required": ["name", "address", "email", "phone"]
          }
        ]
      }
    },
    "$ref": "#/definitions/ApplicationForm"
  }
  