import{g as X,f as W,r as b,h as H,I as D,i as Z}from"./index-DejjGbKT.js";var q={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const Q=X(q);var _=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function K(t){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=t.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(e.name=n[1],(Q[n[1]]||t.charAt(t.length-2)==="/")&&(e.voidElement=!0),e.name.startsWith("!--"))){var o=t.indexOf("-->");return{type:"comment",comment:o!==-1?t.slice(4,o):""}}for(var l=new RegExp(_),s=null;(s=l.exec(t))!==null;)if(s[0].trim())if(s[1]){var i=s[1].trim(),c=[i,""];i.indexOf("=")>-1&&(c=i.split("=")),e.attrs[c[0]]=c[1],l.lastIndex--}else s[2]&&(e.attrs[s[2]]=s[3].trim().substring(1,s[3].length-1));return e}var ee=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,te=/^\s*$/,ne=Object.create(null);function J(t,e){switch(e.type){case"text":return t+e.content;case"tag":return t+="<"+e.name+(e.attrs?function(n){var o=[];for(var l in n)o.push(l+'="'+n[l]+'"');return o.length?" "+o.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?t:t+e.children.reduce(J,"")+"</"+e.name+">";case"comment":return t+"<!--"+e.comment+"-->"}}var se={parse:function(t,e){e||(e={}),e.components||(e.components=ne);var n,o=[],l=[],s=-1,i=!1;if(t.indexOf("<")!==0){var c=t.indexOf("<");o.push({type:"text",content:c===-1?t:t.substring(0,c)})}return t.replace(ee,function(m,a){if(i){if(m!=="</"+n.name+">")return;i=!1}var h,w=m.charAt(1)!=="/",j=m.startsWith("<!--"),E=a+m.length,$=t.charAt(E);if(j){var g=K(m);return s<0?(o.push(g),o):((h=l[s]).children.push(g),o)}if(w&&(s++,(n=K(m)).type==="tag"&&e.components[n.name]&&(n.type="component",i=!0),n.voidElement||i||!$||$==="<"||n.children.push({type:"text",content:t.slice(E,t.indexOf("<",E))}),s===0&&o.push(n),(h=l[s-1])&&h.children.push(n),l[s]=n),(!w||n.voidElement)&&(s>-1&&(n.voidElement||n.name===m.slice(2,-1))&&(s--,n=s===-1?o:l[s]),!i&&$!=="<"&&$)){h=s===-1?o:l[s].children;var d=t.indexOf("<",E),p=t.slice(E,d===-1?void 0:d);te.test(p)&&(p=" "),(d>-1&&s+h.length>=0||p!==" ")&&h.push({type:"text",content:p})}}),o},stringify:function(t){return t.reduce(function(e,n){return e+J("",n)},"")}};function I(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const V={};function F(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&V[e[0]]||(typeof e[0]=="string"&&(V[e[0]]=new Date),I(...e))}const U=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}};function M(t,e,n){t.loadNamespaces(e,U(t,n))}function R(t,e,n,o){typeof n=="string"&&(n=[n]),n.forEach(l=>{t.options.ns.indexOf(l)<0&&t.options.ns.push(l)}),t.loadLanguages(e,U(t,o))}function re(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const o=e.languages[0],l=e.options?e.options.fallbackLng:!1,s=e.languages[e.languages.length-1];if(o.toLowerCase()==="cimode")return!0;const i=(c,m)=>{const a=e.services.backendConnector.state[`${c}|${m}`];return a===-1||a===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!i(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(o,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||i(o,t)&&(!l||i(s,t)))}function oe(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(F("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:n.lng,precheck:(l,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&l.services.backendConnector.backend&&l.isLanguageChangingTo&&!s(l.isLanguageChangingTo,t))return!1}}):re(t,e,n)}function z(t,e){if(!t)return!1;const n=t.props?t.props.children:t.children;return e?n.length>0:!!n}function B(t){if(!t)return[];const e=t.props?t.props.children:t.children;return t.props&&t.props.i18nIsDynamicList?L(e):e}function ae(t){return Object.prototype.toString.call(t)!=="[object Array]"?!1:t.every(e=>b.isValidElement(e))}function L(t){return Array.isArray(t)?t:[t]}function ie(t,e){const n={...e};return n.props=Object.assign(t.props,e.props),n}function Y(t,e){if(!t)return"";let n="";const o=L(t),l=e.transSupportBasicHtmlNodes&&e.transKeepBasicHtmlNodesFor?e.transKeepBasicHtmlNodesFor:[];return o.forEach((s,i)=>{if(typeof s=="string")n+=`${s}`;else if(b.isValidElement(s)){const c=Object.keys(s.props).length,m=l.indexOf(s.type)>-1,a=s.props.children;if(!a&&m&&c===0)n+=`<${s.type}/>`;else if(!a&&(!m||c!==0))n+=`<${i}></${i}>`;else if(s.props.i18nIsDynamicList)n+=`<${i}></${i}>`;else if(m&&c===1&&typeof a=="string")n+=`<${s.type}>${a}</${s.type}>`;else{const h=Y(a,e);n+=`<${i}>${h}</${i}>`}}else if(s===null)I("Trans: the passed in value is invalid - seems you passed in a null child.");else if(typeof s=="object"){const{format:c,...m}=s,a=Object.keys(m);if(a.length===1){const h=c?`${a[0]}, ${c}`:a[0];n+=`{{${h}}}`}else I("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",s)}else I("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",s)}),n}function ue(t,e,n,o,l,s){if(e==="")return[];const i=o.transKeepBasicHtmlNodesFor||[],c=e&&new RegExp(i.map(d=>`<${d}`).join("|")).test(e);if(!t&&!c&&!s)return[e];const m={};function a(d){L(d).forEach(u=>{typeof u!="string"&&(z(u)?a(B(u)):typeof u=="object"&&!b.isValidElement(u)&&Object.assign(m,u))})}a(t);const h=se.parse(`<0>${e}</0>`),w={...m,...l};function j(d,p,u){const v=B(d),y=$(v,p.children,u);return ae(v)&&y.length===0||d.props&&d.props.i18nIsDynamicList?v:y}function E(d,p,u,v,y){d.dummy?(d.children=p,u.push(b.cloneElement(d,{key:v},y?void 0:p))):u.push(...b.Children.map([d],f=>{const r={...f.props};return delete r.i18nIsDynamicList,b.createElement(f.type,{...r,key:v,ref:f.ref},y?null:p)}))}function $(d,p,u){const v=L(d);return L(p).reduce((f,r,x)=>{const O=r.children&&r.children[0]&&r.children[0].content&&n.services.interpolator.interpolate(r.children[0].content,w,n.language);if(r.type==="tag"){let T=v[parseInt(r.name,10)];u.length===1&&!T&&(T=u[0][r.name]),T||(T={});const N=Object.keys(r.attrs).length!==0?ie({props:r.attrs},T):T,A=b.isValidElement(N),k=A&&z(r,!0)&&!r.voidElement,S=c&&typeof N=="object"&&N.dummy&&!A,P=typeof t=="object"&&t!==null&&Object.hasOwnProperty.call(t,r.name);if(typeof N=="string"){const C=n.services.interpolator.interpolate(N,w,n.language);f.push(C)}else if(z(N)||k){const C=j(N,r,u);E(N,C,f,x)}else if(S){const C=$(v,r.children,u);E(N,C,f,x)}else if(Number.isNaN(parseFloat(r.name)))if(P){const C=j(N,r,u);E(N,C,f,x,r.voidElement)}else if(o.transSupportBasicHtmlNodes&&i.indexOf(r.name)>-1)if(r.voidElement)f.push(b.createElement(r.name,{key:`${r.name}-${x}`}));else{const C=$(v,r.children,u);f.push(b.createElement(r.name,{key:`${r.name}-${x}`},C))}else if(r.voidElement)f.push(`<${r.name} />`);else{const C=$(v,r.children,u);f.push(`<${r.name}>${C}</${r.name}>`)}else if(typeof N=="object"&&!A){const C=r.children[0]?O:null;C&&f.push(C)}else E(N,O,f,x,r.children.length!==1||!O)}else if(r.type==="text"){const T=o.transWrapTextNodes,N=s?o.unescape(n.services.interpolator.interpolate(r.content,w,n.language)):n.services.interpolator.interpolate(r.content,w,n.language);T?f.push(b.createElement(T,{key:`${r.name}-${x}`},N)):f.push(N)}return f},[])}const g=$([{dummy:!0,children:t||[]}],h,L(t||[]));return B(g[0])}function le(t){let{children:e,count:n,parent:o,i18nKey:l,context:s,tOptions:i={},values:c,defaults:m,components:a,ns:h,i18n:w,t:j,shouldUnescape:E,...$}=t;const g=w||H();if(!g)return F("You will need to pass in an i18next instance by using i18nextReactModule"),e;const d=j||g.t.bind(g)||(k=>k),p={...W(),...g.options&&g.options.react};let u=h||d.ns||g.options&&g.options.defaultNS;u=typeof u=="string"?[u]:u||["translation"];const v=Y(e,p),y=m||v||p.transEmptyNodeValue||l,{hashTransKey:f}=p,r=l||(f?f(v||y):v||y);g.options&&g.options.interpolation&&g.options.interpolation.defaultVariables&&(c=c&&Object.keys(c).length>0?{...c,...g.options.interpolation.defaultVariables}:{...g.options.interpolation.defaultVariables});const x=c||n!==void 0||!e?i.interpolation:{interpolation:{...i.interpolation,prefix:"#$?",suffix:"?$#"}},O={...i,context:s||i.context,count:n,...c,...x,defaultValue:y,ns:u},T=r?d(r,O):y;a&&Object.keys(a).forEach(k=>{const S=a[k];if(typeof S.type=="function"||!S.props||!S.props.children||T.indexOf(`${k}/>`)<0&&T.indexOf(`${k} />`)<0)return;function P(){return b.createElement(b.Fragment,null,S)}a[k]=b.createElement(P)});const N=ue(a||e,T,g,p,O,E),A=o!==void 0?o:p.defaultTransParent;return A?b.createElement(A,$,N):N}function de(t){let{children:e,count:n,parent:o,i18nKey:l,context:s,tOptions:i={},values:c,defaults:m,components:a,ns:h,i18n:w,t:j,shouldUnescape:E,...$}=t;const{i18n:g,defaultNS:d}=b.useContext(D)||{},p=w||g||H(),u=j||p&&p.t.bind(p);return le({children:e,count:n,parent:o,i18nKey:l,context:s,tOptions:i,values:c,defaults:m,components:a,ns:h||u&&u.ns||d||p&&p.options&&p.options.defaultNS,i18n:p,t:j,shouldUnescape:E,...$})}const ce=(t,e)=>{const n=b.useRef();return b.useEffect(()=>{n.current=t},[t,e]),n.current};function G(t,e,n,o){return t.getFixedT(e,n,o)}function pe(t,e,n,o){return b.useCallback(G(t,e,n,o),[t,e,n,o])}function me(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=e,{i18n:o,defaultNS:l}=b.useContext(D)||{},s=n||o||H();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new Z),!s){F("You will need to pass in an i18next instance by using initReactI18next");const y=(r,x)=>typeof x=="string"?x:x&&typeof x=="object"&&typeof x.defaultValue=="string"?x.defaultValue:Array.isArray(r)?r[r.length-1]:r,f=[y,{},!1];return f.t=y,f.i18n={},f.ready=!1,f}s.options.react&&s.options.react.wait!==void 0&&F("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const i={...W(),...s.options.react,...e},{useSuspense:c,keyPrefix:m}=i;let a=l||s.options&&s.options.defaultNS;a=typeof a=="string"?[a]:a||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(a);const h=(s.isInitialized||s.initializedStoreOnce)&&a.every(y=>oe(y,s,i)),w=pe(s,e.lng||null,i.nsMode==="fallback"?a:a[0],m),j=()=>w,E=()=>G(s,e.lng||null,i.nsMode==="fallback"?a:a[0],m),[$,g]=b.useState(j);let d=a.join();e.lng&&(d=`${e.lng}${d}`);const p=ce(d),u=b.useRef(!0);b.useEffect(()=>{const{bindI18n:y,bindI18nStore:f}=i;u.current=!0,!h&&!c&&(e.lng?R(s,e.lng,a,()=>{u.current&&g(E)}):M(s,a,()=>{u.current&&g(E)})),h&&p&&p!==d&&u.current&&g(E);function r(){u.current&&g(E)}return y&&s&&s.on(y,r),f&&s&&s.store.on(f,r),()=>{u.current=!1,y&&s&&y.split(" ").forEach(x=>s.off(x,r)),f&&s&&f.split(" ").forEach(x=>s.store.off(x,r))}},[s,d]),b.useEffect(()=>{u.current&&h&&g(j)},[s,m,h]);const v=[$,s,h];if(v.t=$,v.i18n=s,v.ready=h,h||!h&&!c)return v;throw new Promise(y=>{e.lng?R(s,e.lng,a,()=>y()):M(s,a,()=>y())})}export{de as T,me as u};
